---
defines:
- &sidebar-right
  shortdef: 'Layout.Sidebar(sidebar-first: false)'

- &sidebar-list-slots
  arrangement:
    type: Arrangement.ScrollingList
    slots:
      card-type: Card.Title

- &section-items
  type: ContentGroup.Item
  slots: *sidebar-list-slots

- &search-results
  shortdef: 'ContentGroup.Search(message-valign: center)'
  slots: *sidebar-list-slots

- &home-page
  shortdef: 'Layout.DividedBanner(row-spacing: 30, row-homogeneous: true)'
  slots:
    top-left:
      type: Banner.App
      properties:
        min-fraction: 0.2  # FIXME remove fractions
        max-fraction: 0.7
        valign: center
        halign: center
    top-right:
      type: Navigation.SearchBox
      properties:
        shadow-type: none
        halign: center
        valign: center
    bottom:
      shortdef: 'ContentGroup.Set(expand: true)'
      slots:
        arrangement:
          type: Arrangement.TiledGrid
          slots:
            card-type: Card.LegacyPost

- &section-page
  <<: *sidebar-right
  slots:
    content:
      shortdef: 'Banner.Set(valign: end)'
      slots:
        card-type: Card.Title
    sidebar: *section-items

- &search-page
  <<: *sidebar-right
  slots:
    content: 'Banner.Search(valign: center)'
    sidebar: *search-results

- &article-page
  type: Layout.Sidebar
  slots:
    content:
      type: Layout.ArticleStack
      slots:
        card-type: Card.KnowledgeDocument
    sidebar:
      type: Layout.SearchAndItem
      slots:
        search: *search-results
        item: *section-items

root:
  type: Controller.Mesh
  slots:
    window:
      type: Window.App
      slots:
        search: Navigation.SearchBox
        navigation: Layout.Navigation
        lightbox:
          type: ContentGroup.MediaLightbox
          slots:
            card-type: Card.Media
        home-page: *home-page
        section-page: *section-page
        search-page: *search-page
        article-page: *article-page
