---
defines:
  - &home-page
    shortdef: 'Layout.TwoPiece(orientation: vertical, valign: center)'
    slots:
      # FIXME remove fractions
      first: 'Bannner.App(min-fraction: 0.5, max-fraction: 0.5)'
      second: 'ContentGroup.ContentGroup(halign: center, title: "More news from %s")'
        slots:
          arrangement:
            shortdef: 'Arrangement.Quilt(spacing: 20)'
            slots:
        references:
          collection: 'front-page-collection'
              card-type: Card.Text

  - &inner-page-layout
    type: Layout.DividedBanner
    slots: &inner-page-layout-slots
      top-left:
        type: Banner.App
        properties:
          min-fraction: 0.2  # FIXME remove fractions
          max-fraction: 0.2
          valign: start
          halign: center
          vexpand: false  # FIXME: ImagePreviewer inside AppBanner expands
      top-right:
        type: Navigation.SearchBox
        properties:
          halign: center
          valign: center
          hexpand: true

  - &search-page
    <<: *inner-page-layout
    slots:
      <<: *inner-page-layout-slots
      bottom:
        type: Layout.Paper
        slots:
          content:
            type: Layout.Banner
            slots:
              banner: 'Banner.Search(halign: start)'
              content:
                shortdef: 'ContentGroup.Search(message-halign: start)'
                slots:
                  arrangement:
                    shortdef: 'Arrangement.ScrollingList(hexpand: true)'
                    slots:
                      card-type: Card.Title

  - &article-page
    <<: *inner-page-layout
    slots:
      <<: *inner-page-layout-slots
      bottom:
        type: Layout.Paper
        slots:
          content:
            shortdef: 'Layout.ArticleStack(do-sliding-animation: false)'
            slots:
              card-type: Card.KnowledgeDocument
  - &collection1
    type: 'Collection.Example'
    id: 'front-page-collection'
    slots:
      filter:
        type: 'Filter.NonDisambig'
      order: 'Order.WordLength(ascending: false)'

root:
  type: Controller.Mesh
  slots:
    window:
      type: Window.Encyclopedia
      slots:
        lightbox:
          type: ContentGroup.MediaLightbox
          slots:
            card-type: Card.Media
        home-page: *home-page
        search-page: *search-page
        article-page: *article-page
